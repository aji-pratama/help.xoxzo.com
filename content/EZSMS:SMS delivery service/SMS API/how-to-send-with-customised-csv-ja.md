Title: CSVファイルでカスタマイズできるショートメッセージ（SMS）の作成方法
Date: 2016-10-12 16:13
Slug: how-to-send-with-customised-csv
Lang: ja
Category: EZSMS:SMS delivery service/SMS API

CSVファイルにデータを記入してアップロードすることで、SMSの本文にCSVのデータを差し込むことができます。 この機能によって宛先に合わせてカスタマイズできるメッセージを送ることができます。

まず以下のようにCSVファイルを作成します。

![CSV file sample]({filename}/images/how-to-send-with-customised-csv/01.png)

### 【注意点】

* すべてのカラム（項目）に変数名を定義してください。

* 宛先電話番号は必ず「to」というカラムにご記入ください。

* テキストのエンコーディングは必ず「UTF-8」に指定してください。 

* 上記一行目の「ABC, 1123」のように、一つのデータ内に区切りの「,」（カンマ）が含まれる場合はダブルクオーテーションで囲むことが必要となります。 次に、文書を作成します。

* CSVファイルの各カラムのタイトルに基づいて以下のように文書を作成してください。

* CSVファイルをアップロードして送信すると、本文中の変数の位置（{{}}ダブル波括弧で囲まれた、カラムのタイトル）にデータが差し込まれます。

以下の実際の送信の画面のサンプルをご参考ください。 

![CSV text sample]({filename}/images/how-to-send-with-customised-csv/02.png)

文書に変数が定義しているにも関わらず、CSVファイル内に定義していなければ（カラムのタイトルがなければ）エラーが発生しますので、ご注意ください。